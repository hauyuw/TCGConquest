<!DOCTYPE HTML>
<html ng-app="app">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>TCGConquest</title>
      <!-- AngularJS library links -->
<!--
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.js"></script>
-->
      <script src="./asset/lib/angular.min.js"></script>
      <script src="./asset/lib/angular-animate.min.js"></script>
      <script src="asset/lib/ngDialog.min.js"></script>
      
      <!-- Link to script with custom modules, controllers, and directives -->  
      <script type="text/javascript" src="./asset/js/kickstart.min.js"></script>
      <script src="./app.module.js"></script> 
      <script src="./app/achievements/achievements.directive.js"></script>
      <script src="./app/achievements/achievements.module.js"></script>
      <script src="./app/achievements/achievements.service.js"></script>
      <script src="./app/layout/footer.directive.js"></script>
      <script src="./app/layout/notification.service.js"></script>
      <script src="./app/rarecard/rarecard.module.js"></script>
      <script src="./app/rarecard/rarecard.service.js"></script>
      <script src="./app/services/BoosterName.service.js"></script>
      <script src="./app/services/GameName.factory.js"></script>
      <script src="./app/services/number.service.js"></script>
      <script src="./app/data/save.module.js"></script>
      <script src="./app/data/load.service.js"></script>
      <script src="./app/data/save.service.js"></script>
      <script src="./app/upgrades/upgrades.module.js"></script>
      <script src="./app/upgrades/upgrades.service.js"></script>
      <script src="./app/upgrades/retail.value.js"></script>
      <script src="./app/upgrades/card.value.js"></script>
      <script src="./app/upgrades/marketing.value.js"></script>
      
      <!-- Kickstrap -->
      <link rel="stylesheet" href="./asset/css/kickstart.min.css" />
      <link href='https://fonts.googleapis.com/css?family=Lato:400,100,100italic,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
      
      <!-- Font Awesome -->
      <link rel="stylesheet" href="./asset/css/font-awesome.min.css">
      
      <!--Utility OpenType-->
      <link href="./asset/css/utility-opentype.min.css" rel="stylesheet">
      
      <link rel="stylesheet" href="./asset/css/customstyle.css" />
      <link rel="stylesheet" href="./asset/css/ngDialog.css" />
      <link rel="stylesheet" href="./asset/css/ngDialog-theme-default.css" />
      
  </head>
  <body ng-controller="MainController">
      <br>
      <div class="wrapper">
          <div class="row">
              <section class="col-5">
                  <p>
                      <span class="md"><em>{{game.gameName}}</em></span><br>
                      <span class="xxs">Your TCG taking the world by storm</span>
                  </p>
                  <p>
                      <span class="rg"><i class="fa fa-jpy"></i>{{incomeDisplay}}</span><br>
                      <span class="xxs"><i class="fa fa-jpy"></i>{{incomeRateDisplay}} per second</span></p>
                  <p>
                      <span class="rg">{{cardsSoldDisplay}} cards sold</span><br>
                      <span class="xxs">{{cardFlowDisplay}} cards sold per second</span>
                  </p>
              </section>
              <section class="col-5">
<!--
                  <p>How people play your game:<br>
                  <progress value="10" max="100"> The power of their imagination</progress>
                  <span class="progresslabel">Label</span></p>
-->
                  <span ng-show="checkRareCardCount()"><i class="fa fa-star-o fa-fw"></i>Rare cards: {{game.rareCardCount}}</span>
<!--                  <a ng-click="">Invest</a>-->
                  <p ng-show="momentum"><i class="fa fa-refresh fa-fw"></i>Momentum: </p>
              </section>
              <section class="col-2">
                  <p><a href="" id="launchAchievementModal"><i class="fa fa-trophy fa-fw"></i> Achievements</a></p>
                  <a href="" id="launchSettingsModal"><i class="fa fa-cog fa-fw"></i> Settings</a><br>
                  <a href="" ng-click="saveGame()"><i class="fa fa-floppy-o fa-fw"></i> Save Game</a>
              </section>
          </div>
          <div class="row">
            <div class="col-third upgrade-overflow">
              <section>
                  <p>Step 1: Sell cards</p>
                  <p><span class="tooltip_trigger col-11">
                      <span class="tooltip tooltip-bottom tooltip-blue">
                          <em>Minimum viable product will ship in 8 months to never</em><br><br>
                          <i class="fa fa-caret-right fa-fw" aria-hidden="true"></i>+<i class="fa fa-jpy"></i>10<br>
                          <i class="fa fa-caret-right fa-fw" aria-hidden="true"></i>Sells 1 card
                      </span>
                      <button class="button button-retail col-12" ng-click="cardClick()">Crowdfunding</button>
                      </span>
                  </p>
                  
                  <p ng-repeat="stores in retailUpgrades">
                      <span class="tooltip_trigger col-11">
                          <span class="tooltip tooltip-bottom tooltip-blue">
                              <em>{{stores.blurb}}</em><br><br>
                              <i class="fa fa-caret-right fa-fw" aria-hidden="true"></i>+<i class="fa fa-jpy"></i>{{stores.adjustedIncomeRate}}/sec<br>  
                              <i class="fa fa-caret-right fa-fw" aria-hidden="true"></i>Sell +{{stores.adjustedCardFlow}} cards/sec
                          </span>
                          <button class="button button-retail col-12" ng-class="{'disable-button' : checkAffordability(retailUpgrades, $index)}" ng-show="showUpgrade(retailUpgrades, $index)" ng-click="buyUpgrade(retailUpgrades, $index)">
                              <div class="row">
                                  <section class="col-9">
                                      {{stores.name}}<br>
                                      <small>Buy for <i class="fa fa-jpy"></i>{{stores.cost}}</small>
                                  </section>
                                  <section class="col-3">
                                      <span class="md pull-right">{{stores.count}}</span>
                                  </section>
                              </div>
                          </button>
                      </span>
                  </p>
              </section>
            </div>
            
            <div class="col-third upgrade-overflow">
              <section>
                  <p ng-show="showUpgrade(cardUpgrades, 0)">Step 2: ???</p>
                  <p ng-repeat="upgrades in cardUpgrades">
                      <span class="tooltip_trigger col-11">
                          <span class="tooltip tooltip-bottom tooltip-blue">
                              <em>{{upgrades.blurb}}</em><br><br>
<!--                              +<i class="fa fa-jpy"></i>{{upgrades.adjustedIncomeRate}}/sec<br>-->
                              <i class="fa fa-caret-right fa-fw" aria-hidden="true"></i>Sell +{{upgrades.adjustedCardFlow}} cards/sec<br>
                              <span ng-show="upgrades.adjustedRareCardRate"><i class="fa fa-caret-right fa-fw" aria-hidden="true"></i>x{{upgrades.adjustedRareCardRate}} chance of rare cards/sec</span>
                          </span>
                          <button class="button button-card col-12"  ng-class="{'disable-button' : checkAffordability(cardUpgrades, $index)}" ng-show="showUpgrade(cardUpgrades, $index)" ng-click="buyUpgrade(cardUpgrades, $index)">
                              <div class="row">
                                  <section class="col-9">
                                      {{upgrades.name}}<br>
                                      <small>Buy for <i class="fa fa-jpy"></i>{{upgrades.cost}}</small>
                                  </section>
                                  <section class="col-3">
                                      <span class="md pull-right">{{upgrades.count}}</span>
                                  </section>
                              </div>
                          </button>
                      </span>
                  </p>
              </section>
            </div>
              
            <div class="col-third upgrade-overflow">
              <section>
                  <p ng-show="showUpgrade(marketingUpgrades, 0)">Step 3: Profit</p>
                  <p ng-repeat="dominate in marketingUpgrades">
                      <span class="tooltip_trigger col-11">
                          <span class="tooltip tooltip-bottom tooltip-blue">
                              <em>{{dominate.blurb}}</em><br><br>
                              <i class="fa fa-caret-right fa-fw" aria-hidden="true"></i>+<i class="fa fa-jpy"></i>{{dominate.adjustedIncomeRate}}/sec<br>    
                              <i class="fa fa-caret-right fa-fw" aria-hidden="true"></i>Sell +{{dominate.adjustedCardFlow}} cards/sec
                          </span>
                          <button class="button button-marketing col-12" ng-class="{'disable-button' : checkAffordability(marketingUpgrades, $index)}" ng-show="showUpgrade(marketingUpgrades, $index)" ng-click="buyUpgrade(marketingUpgrades, $index)">
                              <div class="row">
                                  <section class="col-9">
                                      {{dominate.name}}<br>
                                      <small>Buy for <i class="fa fa-jpy"></i>{{dominate.cost}}</small>
                                  </section>
                                  <section class="col-3">
                                      <span class="md pull-right">{{dominate.count}}</span>
                                  </section>
                              </div>
                          </button>
                      </span>
                  </p>
              </section>
            </div>
          </div>
          
          <div class="modal" id="achievementModal">
              <header>
                  <strong>Achievements</strong>
                  <a data-modal-close="true" href="#">&times;</a>
              </header>
              <main>
                  <achievements></achievements>
              </main>
          </div>
          
          <div class="modal" id="settingsModal">
              <header>
                  <strong>Settings</strong>
                  <a data-modal-close="true" href="#">&times;</a>
              </header>
              <main>
                  <settings></settings>
                  <p><a href="" ng-click="exportGame()">Export save file</a> / <a href="" ng-click="loadGame()">Import save file</a></p>
                  <p><a href="" ng-click="nameYourGame()">Change your TCG's name</a></p>
                  <p><a href="" ng-click="resetGame()">Clear save file</a></p>
              </main>
          </div>
          
      </div>
      
      <div class="footer">
          <footer></footer>
      </div>
      
    <script type="text/ng-template" id="startingModal">
        <div class="ngdialog-theme-default">
              <label for="gamename">What is the name of your card game?</label>
              <input id ="gamename" type="text" /><br>
              <input ng-click="namingGame()" value="Let's Play" type="submit" />
          </div>
    </script>
      
    <script>
        $sampleModal = k$.modal('#achievementModal');
        k$.$('#launchAchievementModal').addEventListener('click', function(e) {
            $sampleModal.style.display = 'block';  e.stopPropagation();
        });
        
        $settingsModal = k$.modal('#settingsModal');
        k$.$('#launchSettingsModal').addEventListener('click', function(e) {
            $settingsModal.style.display = 'block';  e.stopPropagation();
        });
    </script>
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        
        ga('create', 'UA-75793908-2', 'auto');
        ga('send', 'pageview');
    </script>
  </body>
</html>
<!--http://cbracco.me/css-sticky-footer-effect/-->